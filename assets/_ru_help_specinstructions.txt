Описание специнструкций.

С помощью специнструкций, возможности шаблонов значительно расширяются.
Здесь описаны только некоторые специнструкции, без описания которых, непонятно как их применять.

$select
$selword
$selline
помогают организовать обработку выделенного текста, например заключить выделеныый текст в кавычки ("$select").
При использовании в тегах template и longTemplate вместо символа перевода строки, указывайте '\n'.

$selReplace
Формат специнструкции selReplace:
1 строка - всегда $selReplace
2 строка - начинается с @SEARCH и за ним, сразу после двоеточия, следует строка поиска.Окончание строки - enter(перевод строки).
3 строка - начинается с @REPLACE и сразу после двоеточия, следует строка замены

Для удаления найденного, нужно указать @REPLACE:@[DEL]
Такая форма сделана специально, как защита от случайного удаления найденного, при неверном формате данной специнструкции

Примеры:
- ищем и заменяем в выделении "Привет" на "Hello":
$selReplace
@SEARCH:Привет
@REPLACE:Hello

- заменяем все переводы строки (enter), на подчёркивание:
$selReplace
@SEARCH:(нажимаем enter 2 раза)
@REPLACE:_

- заменяем все подчёркивания, на символ перевода строки
$selReplace
@SEARCH:_
@REPLACE:(жмём enter 1 раз)

$selToPos
Эта инструкция может быть только единственной инструкцией в шаблоне.
Для организации других действий над выделенным текстом, воспользуйтесь специнструкцией $program.
Исходный текст, должен быть не более 100000 символов, в любую сторону от курсора (итого 200000 символов, если курсор ровно в середине текста)!
Причём на разных устройствах, это значение может различаться в любую сторону. Это ограничение андроида.

формат инструкции:
$selToPos[0,0,0,.]
(все параметры разделяются запятыми, кроме четвёртого - в нём запятая допускаются).

где:
1 параметр - число, позиция с какой выделять.
   Если больше или равно 0, то выделяем с начала текста с указанной позиции.
   (ПОКА НЕ СДЕЛАНО) Если число отрицательное, то считаем позицию выделения после текущего положения курсора.
2 параметр - число, как искать.
   Если больше или равно 0, то ищем до самого меньшего значения первого вхождения из символов перечисленных в 4 параметре.
   Если меньше 0, то ищем всю строку целиком, указанную в 4 параметре
3 параметр - число, откуда искать, с начала или конца текста (положительное или отрицательное число).
4 параметр - строка символов, до чего выделять.

Примеры:
$selToPos[0,0,0,.] - выделяем текст с самого начала и до первой точки с начала.
$selToPos[0,0,-1,.] - тоже самое, но выделяем до первой точки с конца текста
$selToPos[10,0,0,.] - выделяем текст с десятой позиции от начала и до первой точки с начала.
$selToPos[0,0,0,.!?] - выделяем текст с самого начала и до момента, пока не встретится один из символов .!?
$selToPos[0,-1,0,Привет] - выделяем текст с самого начала и до слова Привет.

$program
Может быть только одна специнструкция в шаблоне и первой строкой.
Для выбора ссылок на шаблоны, используйте кнопку "+"
При использовании в тегах template и longTemplate вместо символа перевода строки, указывайте '\n'.

Пример:
Выделить предложение и заменить его текстом из буфера обмена:
$program
@TPL:SpecInstructions/seltopos .!?
@TPL:SpecInstructions/paste
где:
сперва добавляем два шаблона в папку SpecInstructions (папка указана просто для примера, у вас она может отличаться, или её может не быть совсем):
seltopos с содержимым:
selToPos[0,0,0,.!?]
и шаблон paste, содержащий специнструкцию вставки скопированного текста из буфера
$paste
И в конце создаём наш шаблон с $program.

$codes
Последовательное выполнение кодов, перечисленных в квадратных скобках через запятую.
Может быть только одна специнструкция в шаблоне и первой строкой.

Формат:
$codes[<code>+<code>+...+n,<code>,<code>,...,n]
где:
<code> - любой код используемый в клавиатуре, или кейкод символа (коды в промежутке -5000 - -7000), или любое положительное число больше 0 - тогда будет вводится символ, соответствующий этому номеру в кодировке utf8.

Также, допускается задание комбинаций клавиш, например Ctrl+A (выделить всё) - тогда коды необходимо указывать через "+".
Количество клавиш в комбинации, неограниченно.

Кроме того, в качестве кода можно указывать значение p<число> - вставляет паузу между выполнением соседних кодов.
Если указать просто p без числа, то задержка между выполнением кодов, будет равна значению Следующего повтора клавиши (прочие настройки-интервалы клавиш)

Примеры:
$codes[-323,-321] - выделить всё и вставить текущее значение буфера обмена. Команда состоит из кодов клавиатуры.
Тоже самое, но с использованием KeyEvent клавиш (коды в клавиатуре из промежутка -5000 - -7000):
$codes[-5113+-5029,-321]
$codes[-5113+-5059+-5021] - Ctrl+Shift+← - выделить слово слева от курсора
(в кодах -5xxx возможны ошибки - указывал по памяти)
ЗАМЕЧАНИЕ.
Комбинации клавиш, возможны только через указание KeyEvent символов (-5xxx). С кодамти клавиатуры комбинации скорее всего, работать не будут.

Все коды доступные в клавиатуре, перечислены в приложеннии jbak2layout, в Инструкции по созданию своей раскладки.
События KeyEvent смотрите в интернете.

$selToUrl
Открывает браузер на адресе, который был указан в скобках.
В некоторых случаях, необходимо указывать полную форму адреса: http://my_site.com
Поддерживаются несколько специальных значений:
 - $st# - (selected text) вместо этого значения, будет вставлен выделенный текст, если он есть.
 - $ct# - (copy text) вместо этого значения, будет вставлен скопированный текст, если он есть.

Примеры:
Поиск в google скопированного:
$selToUrl[google.com/search?q=$ct#]
Перевод выделенного в переводчике Яндекс en→ru и с русским языком интерфейса:
$selToUrl[https://translate.yandex.by/?ui=ru&lang=en-ru&text=$st#]

Замечание.
Для поиска именно в google, можно использовать сокращённую форму специнструкции - поисковая система google, используется по умолчанию:
$selToUrl[$ct#]
